( function(){
xtag.extensions.src = {
	mixin: (base) => class extends base {
		constructor(){
			super();
			if(this.src !== null ) this.src = this.src;
		}
		set 'src::attr' (val){
			if(val[0] === "$" && val[val.length-1] === ";") {
				var _m = val.match(/[\w+\-+](?=[\;\.])/g),
					_r = null;

				for(var i=0; i < _m.length; i++){
					
				}
			}
			else {

				var xhr = new XMLHttpRequest();
				xhr.open('GET', val, true);

				// sends back appropriate object type dependent on the file extension
				if(/\.json$/.test(val)){
					xhr.responseType = "json";
				}
				else if(/\.html$/.test(val)){
					xhr.responseType = "document";
				}
				else if(/\.xml$/.test(val)){
					xhr.responseType = "document";
				}
				else{
					xhr.responseType = "text";
				}

				xhr.onload = () => xtag.fireEvent(this, 'load', { detail: xhr.response });
				xhr.onerror = () => xtag.fireEvent(this, 'error', { detail: xhr.response });
				xhr.send(null);

			}

			return val;
		}
		get 'src::attr'(){
			return this.getAttribute("src") || null;
		}
	}
};
} )();